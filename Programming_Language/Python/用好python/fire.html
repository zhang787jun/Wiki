<!DOCTYPE HTML>
<html>

<head>
    <link rel="Stylesheet" type="text/css" href="/Wiki/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/Wiki/static/css/tango.css">
    <link rel="shortcut icon" href="/Wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/Wiki/favicon.ico" type="image/x-icon">
    <title>Python--Fire - Jun's personal knowledge wiki</title>
    <meta name="keywords" content="Technology, MachineLearning, DataMining, Wiki" />
    <meta name="description" content="A wiki website" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
            }
        });
    </script>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
        </script>
</head>

<body>

    <div id="container">
        
<div id="header">
  <div id="post-nav"><a href="/Wiki/">Home</a>&nbsp;Â»&nbsp;<a href="/Wiki/#Programming_Language">Programming_Language</a>&nbsp;Â»&nbsp;<a href="/Wiki/#-Python">Python</a>&nbsp;Â»&nbsp;<a href="/Wiki/#-ç”¨å¥½python">ç”¨å¥½python</a>&nbsp;Â»&nbsp;Python--Fire</div>
</div>
<div class="clearfix"></div>
<div id="title">Python--Fire</div>
<div id="content">
  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#_1">å®‰è£…</a></li>
</ul>
</div>
<p>Fireæ˜¯googleå¼€å‘çš„ä¸€ä¸ªpythonç¬¬ä¸‰æ–¹åº“ï¼Œå…¶ä½œç”¨æ˜¯å¯ä»¥å°†pythonç»„ä»¶(å‡½æ•°è°ƒç”¨ï¼Œç±»è°ƒç”¨)è½¬æ¢æˆå‘½ä»¤è¡Œçš„å½¢å¼å»è°ƒç”¨ã€‚</p>
<h1 id="_1">å®‰è£…</h1>
<p>å¯ä»¥ç›´æ¥ä½¿ç”¨pipæ¥å®‰è£…</p>
<p>pip install fire<br />
1<br />
æˆ–è€…å¯ä»¥ä»Fireæºç å®‰è£…ï¼Œcloleå¦‚ä¸‹æºç https://github.com/google/python-fire.git, ç„¶åè¿›å…¥ç›®å½•ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤</p>
<p>python setup.py install<br />
1<br />
ä½¿ç”¨æ–¹æ³•<br />
Hello world<br />
version1: fire.Fire()<br />
ä½¿ç”¨Fireæœ€ç®€å•çš„æ–¹æ³•æ˜¯åœ¨pythonç¨‹åºç»“æŸæ—¶è°ƒç”¨fire.Fire(), è¿™ä¼šå°†ç¨‹åºçš„å…¨éƒ¨å†…å®¹æš´éœ²ç»™å‘½ä»¤è¡Œã€‚ä¾‹å¦‚æœ‰å¦‚ä¸‹ä¸€ä¸ªç¨‹åºtext.py</p>
<p>import fire</p>
<p>def hello(name):<br />
  return 'Hello {name}!'.format(name=name)</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br />
  fire.Fire(hello)<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿è¡Œç¨‹åº</p>
<p>$python test.py hello world<br />
Hello world!<br />
1<br />
2<br />
version2: fire.Fire(<fn>)<br />
ç¨å¾®æ”¹åŠ¨ç¨‹åºï¼Œä»…å°†helloå‡½æ•°æš´éœ²ç»™å‘½ä»¤è¡Œ</p>
<p>import fire</p>
<p>def hello(name):<br />
  return 'Hello {name}!'.format(name=name)</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br />
  fire.Fire(hello)<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿è¡Œç¨‹åº</p>
<p>$ python test.py World<br />
Hello World!<br />
1<br />
2<br />
ç°åœ¨æˆ‘ä»¬ä¸éœ€è¦åœ¨æŒ‡å®šhelloå‡½æ•°ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯é€šè¿‡fire.Fire(hello)è°ƒç”¨çš„</p>
<p>version3: using a main<br />
æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·æ¥å†™è¿™ä¸ªç¨‹åº</p>
<p>import fire</p>
<p>def hello(name):<br />
  return 'Hello {name}!'.format(name=name)</p>
<p>def main():<br />
  fire.Fire(hello)</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br />
  main()<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
Exposing Multiple Commands<br />
åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å‘å‘½ä»¤è¡Œæš´éœ²äº†ä¸€ä¸ªå‡½æ•°ã€‚ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å°†å¤šä¸ªå‡½æ•°æš´éœ²ç»™å‘½ä»¤è¡Œã€‚</p>
<p>version1: fire.Fire()<br />
æš´éœ²å¤šä¸ªå‘½ä»¤æœ€ç®€å•çš„æ–¹æ³•æ˜¯ç¼–å†™å¤šä¸ªå‡½æ•°ï¼Œç„¶åè°ƒç”¨Fireã€‚ ä¾‹å¦‚æœ‰å¦‚ä¸‹æ–‡ä»¶example.py</p>
<p>import fire</p>
<p>def add(x, y):<br />
  return x + y</p>
<p>def multiply(x, y):<br />
  return x * y</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br />
  fire.Fire()<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
è¿è¡Œå¦‚ä¸‹å‘½ä»¤å¾—åˆ°ç»“æœ</p>
<p>$ python example.py add 10 20<br />
30<br />
$ python example.py multiply 10 20<br />
200<br />
1<br />
2<br />
3<br />
4<br />
æ³¨æ„åˆ°Fireæ­£ç¡®åœ°å°†10å’Œ20è§£æä¸ºæ•°å­—ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ã€‚æ›´å¤šå…³äºå‚æ•°è§£æçš„ä¾‹å­ï¼Œå‚è€ƒhttps://github.com/google/python-fire/blob/master/docs/guide.md#argument-parsing</p>
<p>Version 2: fire.Fire()<br />
åœ¨Version 1ä¸­ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰ç¨‹åºçš„åŠŸèƒ½æš´éœ²ç»™å‘½ä»¤è¡Œã€‚ è€Œé€šè¿‡ä½¿ç”¨å­—å…¸ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰é€‰æ‹©æ€§åœ°å°†ä¸€äº›å‡½æ•°æš´éœ²ç»™å‘½ä»¤è¡Œã€‚</p>
<p>import fire</p>
<p>def add(x, y):<br />
  return x + y</p>
<p>def multiply(x, y):<br />
  return x * y</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br />
  fire.Fire({<br />
      'add': add,<br />
      'multiply': multiply,<br />
  })<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
11<br />
12<br />
13<br />
è¿è¡Œå¦‚ä¸‹å‘½ä»¤å¾—åˆ°ç»“æœ</p>
<p>$ python example.py add 10 20<br />
30<br />
$ python example.py multiply 10 20<br />
200<br />
1<br />
2<br />
3<br />
4<br />
Version 3: fire.Fire()<br />
Fireä¹Ÿé€‚ç”¨äºå¯¹è±¡ï¼Œè¿™æ˜¯æš´éœ²å¤šä¸ªå‘½ä»¤è¡Œçš„ä¸€ä¸ªå¥½åšæ³•</p>
<p>import fire</p>
<p>class Calculator(object):</p>
<p>def <strong>init</strong>(self, value):<br />
    self.value = value</p>
<p>def add(self, x, y):<br />
    return x + y + self.value</p>
<p>def multiply(self, x, y):<br />
    return x * y + self.value</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br />
  calculator = Calculator()<br />
  fire.Fire(calculator)<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
11<br />
12<br />
13<br />
14<br />
15<br />
16<br />
è¿è¡Œå¦‚ä¸‹å‘½ä»¤å¾—åˆ°ç»“æœ</p>
<p>$ python example.py add 10 20<br />
35<br />
$ python example.py multiply 10 20<br />
205<br />
1<br />
2<br />
3<br />
4<br />
Version 4: fire.Fire()<br />
Fireä¹Ÿé€‚ç”¨äºç±»ã€‚ è¿™æ˜¯æš´éœ²å¤šä¸ªå‘½ä»¤çš„å¦ä¸€ä¸ªå¥½çš„åšæ³•ã€‚</p>
<p>import fire</p>
<p>class Calculator(object):</p>
<p>def <strong>init</strong>(self, value):<br />
    self.value = value</p>
<p>def add(self, x, y):<br />
    return x + y + self.value</p>
<p>def multiply(self, x, y):<br />
    return x * y + self.value</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br />
  fire.Fire(Calculator)<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
11<br />
12<br />
13<br />
14<br />
15<br />
è¿è¡Œå¦‚ä¸‹å‘½ä»¤å¾—åˆ°ç»“æœ</p>
<p>$ python example.py add 10 20 --value 5<br />
35<br />
$ python example.py multiply 10 20 --value 5<br />
205<br />
1<br />
2<br />
3<br />
4<br />
ä¸è°ƒç”¨æ™®é€šå‡½æ•°ä¸åŒï¼Œå®ƒå¯ä»¥é€šè¿‡ä½ç½®å‚æ•°å’Œå‘½åå‚æ•°ï¼ˆâ€“flagè¯­æ³•ï¼‰å®Œæˆ<br />
ï¼Œè¿™é‡Œçš„â€“value 5å°±æ˜¯å°†__init__ä¸­çš„ğŸˆ¯ï¸è®¾ä¸º5</p>
<p>Grouping Commands åˆ†ç»„å‘½ä»¤<br />
ä¸‹é¢æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨åˆ†ç»„å‘½ä»¤åˆ›å»ºå‘½ä»¤è¡Œç•Œé¢çš„ç¤ºä¾‹ã€‚</p>
<p>class IngestionStage(object):</p>
<p>def run(self):<br />
    return 'Ingesting! Nom nom nom...'</p>
<p>class DigestionStage(object):</p>
<p>def run(self, volume=1):<br />
    return ' '.join(['Burp!'] * volume)</p>
<p>def status(self):<br />
    return 'Satiated.'</p>
<p>class Pipeline(object):</p>
<p>def <strong>init</strong>(self):<br />
    self.ingestion = IngestionStage()<br />
    self.digestion = DigestionStage()</p>
<p>def run(self):<br />
    self.ingestion.run()<br />
    self.digestion.run()</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br />
  fire.Fire(Pipeline)<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
11<br />
12<br />
13<br />
14<br />
15<br />
16<br />
17<br />
18<br />
19<br />
20<br />
21<br />
22<br />
23<br />
24<br />
25<br />
è¿è¡Œå¦‚ä¸‹å‘½ä»¤</p>
<p>$ python example.py run<br />
Ingesting! Nom nom nom...<br />
Burp!<br />
$ python example.py ingestion run<br />
Ingesting! Nom nom nom...<br />
$ python example.py digestion run<br />
Burp!<br />
$ python example.py digestion status<br />
Satiated.<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
Accessing Properties å±æ€§è®¿é—®<br />
Chaining Function Calls é“¾å¼å‡½æ•°è°ƒç”¨<br />
å¦‚æœä½ æƒ³è®¾ç½®ä½ çš„å‡½æ•°é“¾å¼è°ƒç”¨ï¼Œä½ åªéœ€è¦è®¾ç½®ç±»æ–¹æ³•è¿”å›selfã€‚ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­è¯´æ˜ï¼š</p>
<p>import fire</p>
<p>class BinaryCanvas(object):<br />
  """A canvas with which to make binary art, one bit at a time."""</p>
<p>def <strong>init</strong>(self, size=10):<br />
    self.pixels = [[0] * size for _ in range(size)]<br />
    self._size = size<br />
    self._row = 0  # The row of the cursor.<br />
    self._col = 0  # The column of the cursor.</p>
<p>def <strong>str</strong>(self):<br />
    return '\n'.join(' '.join(str(pixel) for pixel in row) for row in self.pixels)</p>
<p>def show(self):<br />
    print(self)<br />
    return self</p>
<p>def move(self, row, col):<br />
    self._row = row % self._size<br />
    self._col = col % self._size<br />
    return self</p>
<p>def on(self):<br />
    return self.set(1)</p>
<p>def off(self):<br />
    return self.set(0)</p>
<p>def set(self, value):<br />
    self.pixels[self._row][self._col] = value<br />
    return self</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br />
  fire.Fire(BinaryCanvas)<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
11<br />
12<br />
13<br />
14<br />
15<br />
16<br />
17<br />
18<br />
19<br />
20<br />
21<br />
22<br />
23<br />
24<br />
25<br />
26<br />
27<br />
28<br />
29<br />
30<br />
31<br />
32<br />
33<br />
34<br />
35<br />
è¿è¡Œå¦‚ä¸‹å‘½ä»¤</p>
<p>$ python example.py move 3 3 on move 3 6 on move 6 3 on move 6 6 on move 7 4 on move 7 5 on<br />
0 0 0 0 0 0 0 0 0 0<br />
0 0 0 0 0 0 0 0 0 0<br />
0 0 0 0 0 0 0 0 0 0<br />
0 0 0 1 0 0 1 0 0 0<br />
0 0 0 0 0 0 0 0 0 0<br />
0 0 0 0 0 0 0 0 0 0<br />
0 0 0 1 0 0 1 0 0 0<br />
0 0 0 0 1 1 0 0 0 0<br />
0 0 0 0 0 0 0 0 0 0<br />
0 0 0 0 0 0 0 0 0 0<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
11<br />
æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ç³»åˆ—çš„0 1æ‰“å°åœ¨äº†å±å¹•ä¸Šï¼Œå¯ä»¥é€šè¿‡å®šä¹‰ç±»çš„__str_æ–¹æ³•æ¥å®šä¹‰ä¸€ä¸ªç±»å¦‚ä½•è¾“å‡ºçš„ã€‚<br />
å¦‚æœç±»å­˜åœ¨è‡ªå®šä¹‰çš„__str_æ–¹æ³•ï¼Œåˆ™åºåˆ—åŒ–å¹¶æ‰“å°è¯¥å¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰è‡ªå®šä¹‰çš„__str__æ–¹æ³•ï¼Œåˆ™æ˜¾ç¤ºå¯¹è±¡çš„å¸®åŠ©å±å¹•ã€‚</p>
<p>more simpler way<br />
import fire<br />
english = 'Hello World'<br />
spanish = 'Hola Mundo'<br />
fire.Fire()<br />
1<br />
2<br />
3<br />
4<br />
ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤</p>
<p>$ python example.py english<br />
Hello World<br />
$ python example.py spanish<br />
Hola Mundo<br />
1<br />
2<br />
3<br />
4<br />
å‡½æ•°è°ƒç”¨<br />
æ„é€ å‡½æ•°çš„å‚æ•°å¯ä»¥ä½¿ç”¨â€“flagè¯­æ³•â€“name = valueä¼ é€’ã€‚<br />
ä¾‹å¦‚ï¼Œè€ƒè™‘å¦‚ä¸‹ä¸€ä¸ªç®€å•çš„ç±»</p>
<p>import fire</p>
<p>class Building(object):</p>
<p>def <strong>init</strong>(self, name, stories=1):<br />
    self.name = name<br />
    self.stories = stories</p>
<p>def climb_stairs(self, stairs_per_story=10):<br />
    for story in range(self.stories):<br />
      for stair in range(1, stairs_per_story):<br />
        yield stair<br />
      yield 'Phew!'<br />
    yield 'Done!'</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br />
  fire.Fire(Building)<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
11<br />
12<br />
13<br />
14<br />
15<br />
16<br />
17<br />
æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å®ä¾‹åŒ–å®ƒï¼špython example.py --name =â€œSherrerd Hallâ€<br />
å…¶ä»–å‡½æ•°çš„å‚æ•°åŒæ ·å¯ä»¥ä½¿ç”¨â€“flagè¯­æ³•æ¥ä¼ é€’ã€‚<br />
è¦å®ä¾‹åŒ–ä¸€ä¸ªBuildingï¼Œç„¶åè¿è¡Œclimb_stairså‡½æ•°ï¼Œä»¥ä¸‹å‘½ä»¤éƒ½æ˜¯æœ‰æ•ˆçš„ï¼š</p>
<p>$ python example.py --name="Sherrerd Hall" --stories=3 climb_stairs 10<br />
$ python example.py --name="Sherrerd Hall" climb_stairs --stairs_per_story=10<br />
$ python example.py --name="Sherrerd Hall" climb_stairs --stairs-per-story 10<br />
$ python example.py climb-stairs --stairs-per-story 10 --name="Sherrerd Hall"<br />
1<br />
2<br />
3<br />
4<br />
ä½ ä¼šæ³¨æ„åˆ°è¿å­—ç¬¦å’Œä¸‹åˆ’çº¿ï¼ˆ -å’Œ_ï¼‰åœ¨æˆå‘˜åç§°å’Œæ ‡å¿—åç§°ä¸­æ˜¯å¯ä»¥äº’æ¢çš„ã€‚<br />
ä½ è¿˜ä¼šæ³¨æ„åˆ°æ„é€ å‡½æ•°çš„å‚æ•°å¯ä»¥åœ¨å…¶ä»–å‡½æ•°çš„å‚æ•°ä¹‹åæˆ–å‡½æ•°ä¹‹å‰ã€‚<br />
ä½ è¿˜ä¼šæ³¨æ„åˆ°ï¼Œæ ‡å¿—åç§°å’Œå…¶å€¼ä¹‹é—´çš„ç­‰å·æ˜¯å¯é€‰çš„ã€‚</p>
<p>å¸¦æœ‰*argså’Œ<strong>kwargsçš„å‡½æ•°<br />
Fireæ”¯æŒå¸¦*argsæˆ–</strong> kwargsçš„å‡½æ•°ã€‚ è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<p>import fire</p>
<p>def order_by_length(*items):<br />
  """Orders items by length, breaking ties alphabetically."""<br />
  sorted_items = sorted(items, key=lambda item: (len(str(item)), str(item)))<br />
  return ' '.join(sorted_items)</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br />
  fire.Fire(order_by_length)<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
è¿è¡Œå‘½ä»¤</p>
<p>$ python example.py dog cat elephant<br />
cat dog elephant<br />
1<br />
2<br />
å¯ä»¥ä½¿ç”¨åˆ†éš”ç¬¦ç»™å‡½æ•°æä¾›å‚æ•°ã€‚åˆ†éš”ç¬¦åçš„æ‰€æœ‰å‚æ•°å°†ç”¨äºå¤„ç†å‡½æ•°çš„ç»“æœï¼Œè€Œä¸æ˜¯ä¼ é€’ç»™å‡½æ•°æœ¬èº«ã€‚ é»˜è®¤åˆ†éš”ç¬¦æ˜¯è¿å­—ç¬¦ -ã€‚</p>
<p>$ python example.py dog cat elephant - upper<br />
CAT DOG ELEPHANT<br />
1<br />
2<br />
å¦‚æœæ²¡æœ‰åˆ†éš”ç¬¦ï¼Œupperä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå‚æ•°</p>
<p>$ python example.py dog cat elephant upper<br />
cat dog upper elephant<br />
1<br />
2<br />
ä½ å¯ä»¥ä½¿ç”¨â€“separatoræ ‡å¿—æ›´æ”¹åˆ†éš”ç¬¦ã€‚é€šè¿‡â€“å°†æ ‡å¿—ä¸ä½ çš„FireæŒ‡ä»¤éš”å¼€ ã€‚ ä»¥ä¸‹æ˜¯æˆ‘ä»¬æ›´æ”¹åˆ†éš”ç¬¦çš„ç¤ºä¾‹ã€‚</p>
<p>$ python example.py dog cat elephant X upper -- --separator=X<br />
CAT DOG ELEPHANT<br />
1<br />
2<br />
å½“å‡½æ•°æ¥å—<em>argsï¼Œ</em>*kwargsæˆ–ä½ ä¸æƒ³æŒ‡å®šçš„é»˜è®¤å€¼æ—¶ï¼Œåˆ†éš”ç¬¦ä¼šå¾ˆæœ‰ç”¨ã€‚å½“æƒ³æŠŠ"-"ä½œä¸ºåˆ†éš”ç¬¦æ—¶ï¼Œæ”¹å˜åˆ†éš”ç¬¦ä¹Ÿå¾ˆé‡è¦</p>
<p>Argument Parsing å‚æ•°è§£æ<br />
å‚æ•°çš„ç±»å‹å–å†³äºå®ƒä»¬çš„å€¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å®ƒä»¬çš„å‡½æ•°ç­¾åã€‚ æ‚¨å¯ä»¥ä»å‘½ä»¤è¡Œä¼ é€’ä»»ä½•Pythonæ–‡æœ¬ï¼šæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå…ƒç»„ï¼Œåˆ—è¡¨ï¼Œå­—å…¸ï¼ˆä»…åœ¨æŸäº›ç‰ˆæœ¬çš„Pythonä¸­æ”¯æŒé›†åˆï¼‰ã€‚æ‚¨ä¹Ÿå¯ä»¥ä»»æ„åµŒå¥—è¿™äº›ç±»å‹ã€‚</p>
<p>ä¸ºäº†æ¼”ç¤ºè¿™ä¸ªï¼Œæˆ‘ä»¬å°†åˆ¶ä½œä¸€ä¸ªå°ç¨‹åºï¼Œé€šè¿‡è¿™ä¸ªå°ç¨‹åºå‘Šè¯‰æˆ‘ä»¬ä¼ ç»™å®ƒçš„å‚æ•°ç±»å‹ï¼š</p>
<p>import fire<br />
fire.Fire(lambda obj: type(obj).<strong>name</strong>)<br />
1<br />
2<br />
æˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“æœ</p>
<p>$ python example.py 10<br />
int<br />
$ python example.py 10.0<br />
float<br />
$ python example.py hello<br />
str<br />
$ python example.py '(1,2)'<br />
tuple<br />
$ python example.py [1,2]<br />
list<br />
$ python example.py True<br />
bool<br />
$ python example.py {name: David}<br />
dict<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
11<br />
12<br />
13<br />
14<br />
åœ¨æœ€åä¸€ä¸ªä¾‹å­ä¸­ï¼Œä½ ä¼šæ³¨æ„åˆ°è£¸è¯ä¼šè‡ªåŠ¨æ›¿æ¢ä¸ºå­—ç¬¦ä¸²ã€‚<br />
è¦æ³¨æ„ï¼ å¦‚æœä½ æƒ³ä¼ é€’å­—ç¬¦ä¸²"10"è€Œä¸æ˜¯int 10ï¼Œä½ éœ€è¦è½¬ä¹‰æˆ–è€…å¼•ç”¨ä½ çš„å¼•å·ã€‚ å¦åˆ™ï¼ŒBashå°†ä¼šæŠŠä½ çš„å¼•ç”¨å–æ¶ˆå¹¶å°†ä¸€ä¸ªæ²¡æœ‰å¼•å·çš„10ä¼ é€’ç»™ä½ çš„Pythonç¨‹åºï¼Œåœ¨é‚£é‡ŒFireå°†æŠŠå®ƒè§£é‡Šä¸ºä¸€ä¸ªæ•°å­—ã€‚</p>
<p>$ python example.py 10<br />
int<br />
$ python example.py "10"<br />
int<br />
$ python example.py '"10"'<br />
str<br />
$ python example.py "'10'"<br />
str<br />
$ python example.py \"10\"<br />
str<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
è¦æ³¨æ„ï¼ è®°ä½Bashé¦–å…ˆå¤„ç†ä½ çš„å‚æ•°ï¼Œç„¶åFireè§£æç»“æœã€‚ å¦‚æœä½ æƒ³å°†dict {â€œnameâ€ï¼šâ€œDavid Bieberâ€}ä¼ é€’ç»™ä½ çš„ç¨‹åºï¼Œä½ å¯ä»¥è¯•è¯•è¿™ä¸ªï¼š</p>
<p>$ python example.py '{"name": "David Bieber"}'  # Good! Do this.<br />
dict<br />
$ python example.py {"name":'"David Bieber"'}  # Okay.<br />
dict<br />
$ python example.py {"name":"David Bieber"}  # Wrong. This is parsed as a string.<br />
str<br />
$ python example.py {"name": "David Bieber"}  # Wrong. This isn't even treated as a single argument.<br />
<error><br />
$ python example.py '{"name": "Justin Bieber"}'  # Wrong. This is not the Bieber you're looking for. (The syntax is fine though :))<br />
dict<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
9<br />
10<br />
Boolean Arguments å¸ƒå°”ç±»å‹çš„å‚æ•°<br />
Trueå’ŒFalseè¢«è§£æä¸ºå¸ƒå°”å€¼ã€‚<br />
ä½ ä¹Ÿå¯ä»¥é€šè¿‡â€“flagè¯­æ³•â€“nameå’Œâ€“nonameæ¥æŒ‡å®šå¸ƒå°”å€¼ï¼Œå®ƒä»¬åˆ†åˆ«å°†åç§°è®¾ç½®ä¸ºTrueå’ŒFalseã€‚<br />
ç»§ç»­å‰é¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œä»¥ä¸‹ä»»ä½•ä¸€ä¸ªï¼š</p>
<p>$ python example.py --obj=True<br />
bool<br />
$ python example.py --obj=False<br />
bool<br />
$ python example.py --obj<br />
bool<br />
$ python example.py --noobj<br />
bool<br />
1<br />
2<br />
3<br />
4<br />
5<br />
6<br />
7<br />
8<br />
è¦æ³¨æ„ï¼ å¦‚æœé™¤å¦ä¸€ä¸ªæ ‡å¿—ä¹‹å¤–çš„æ ‡å¿—ç´§è·Ÿåœ¨åº”è¯¥æ˜¯å¸ƒå°”å€¼çš„æ ‡å¿—ä¹‹åï¼Œè¯¥æ ‡å¿—å°†å–ä»£è¯¥æ ‡å¿—çš„å€¼è€Œä¸æ˜¯å¸ƒå°”å€¼ã€‚ æ‚¨å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼šé€šè¿‡åœ¨æœ€åä¸€ä¸ªæ ‡å¿—ä¹‹åæ”¾ç½®ä¸€ä¸ªåˆ†éš”ç¬¦ï¼Œæ˜ç¡®æŒ‡å‡ºå¸ƒå°”æ ‡å¿—çš„å€¼ï¼ˆå¦‚â€“obj = Trueï¼‰ï¼Œæˆ–è€…ç¡®ä¿åœ¨å¸ƒå°”æ ‡å¿—å‚æ•°åé¢æœ‰å¦ä¸€ä¸ªæ ‡å¿—ã€‚</p>
</div>
<div id="renote">
  <HR style=" FILTER: alpha (opacity = 100, finishopacity =0 , style= 3 )" width="80%" color=#987 cb 9 SIZE=3>
  <p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å¦¨è¯·æˆ‘å–æ¯å’–å•¡ï¼Œé¼“åŠ±æˆ‘åˆ›é€ æ›´å¤š!</p>
  <img src="/Wiki/static/images/pay.jpg" width="25%">
</div>

    </div>
    <div id="footer">
        <span>
            Copyright Â© 2021 zhang787jun.
            Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
        </span>
    </div>

    
</body>
<script>
    function changeImgurl(site_root_url) {
        var images = document.images;
        var site_root = site_root_url;
        for (i = 0, len = images.length; i < len; i++) {
            image = images[i];
            image_src = image.src;
            if (image_src.search("attach") >= 0) {
                re_image_src = image_src.slice(image_src.search("attach"));
                abs_image_src = (site_root.endsWith("/")) ? site_root + re_image_src : site_root + "/" +
                    re_image_src;
                image.src = abs_image_src;
            }
        }
    }
    var site_root_url = "/Wiki";
    changeImgurl(site_root_url);
    let isMathjaxConfig = false; // é˜²æ­¢é‡å¤è°ƒç”¨Configï¼Œé€ æˆæ€§èƒ½æŸè€—
    const initMathjaxConfig = () => {
        if (!window.MathJax) {
            return;
        }
        window.MathJax.Hub.Config({
            showProcessingMessages: false, //å…³é—­jsåŠ è½½è¿‡ç¨‹ä¿¡æ¯
            messageStyle: "none", //ä¸æ˜¾ç¤ºä¿¡æ¯
            jax: ["input/TeX", "output/HTML-CSS"],
            tex2jax: {
                inlineMath: [["$", "$"], ["\\(", "\\)"]], //è¡Œå†…å…¬å¼é€‰æ‹©ç¬¦
                displayMath: [["$$", "$$"], ["\\[", "\\]"]], //æ®µå†…å…¬å¼é€‰æ‹©ç¬¦
                skipTags: ["script", "noscript", "style", "textarea", "pre", "code", "a"] //é¿å¼€æŸäº›æ ‡ç­¾
            },
            "HTML-CSS": {
                availableFonts: ["STIX", "TeX"], //å¯é€‰å­—ä½“
                showMathMenu: false //å…³é—­å³å‡»èœå•æ˜¾ç¤º
            }
        });
        isMathjaxConfig = true; //
    };
    if (isMathjaxConfig === false) {
        // å¦‚æœï¼šæ²¡æœ‰é…ç½®MathJax
        initMathjaxConfig();
    };
</script>

</html>