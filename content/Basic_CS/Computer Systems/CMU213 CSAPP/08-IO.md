---
title: "08-IO"
layout: page
date: 2099-06-02 00:00
---

[TOC]


输入/输出 是在主存和外部设备（磁盘，终端，网络）之间拷贝数据的过程。
输入：从I/O设备拷贝数据到主存
输出：从主存拷贝数据到I/O设备

所有的语言都提供了I/O库
比如：C的标准I/O库，其中的printf和sacnf这种函数都是带缓冲区的函数 C++的重载操作符<<和>>

使用系统级I/O的必要性：

帮助理解系统操作和设计
有一些情况，高级的I/O函数不太合适，只能用系统I/O。例如：标准I/O库没有提供读取文件元数据的方式，高级I/O有问题，用来网络编程很冒险等等


1. Linux 提供了少量的基于 Unix I/O 模型的系统级函数。
   1. 它们允许应用程序打开、关闭、读和写文件，提取文件的元数据，以及执行 I/O 重定向。Linux 的读和写操作会出现不足值，应用程序必须能正确地预计和处理这种情况。应用程序不应直接调用 Unix I/O 函数，而应该使用 RIO 包，RIO 包通过反复执行读写操作，直到传送完所有的请求数据，自动处理不足值。
2. Linux 内核使用三个相关的数据结构来表示打开的文件。描述符表中的表项指向打开文件表中的表项，而打开文件表中的表项又指向 v-node 表中的表项。每个进程都有它自己单独的描述符表，而所有的进程共享同一个打开文件表和 v-node 表。理解这些结构的一般组成就能使我们清楚地理解文件共享和 I/O 重定向。
   
3. 标准 I/O 库是基于 Unix I/O 实现的，并提供了一组强大的高级 I/O 例程。对于大多数应用程序而言，标准 I/O 更简单，是优于 Unix I/O 的选择。然而，因为对标准 I/O 和网络文件的一些相互不兼容的限制，Unix I/O 比之标准 I/O 更该适用于网络应用程序。