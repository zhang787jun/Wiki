<!DOCTYPE HTML>
<html>

<head>
    <link rel="Stylesheet" type="text/css" href="/Wiki/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/Wiki/static/css/tango.css">
    <link rel="shortcut icon" href="/Wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/Wiki/favicon.ico" type="image/x-icon">
    <title>Linux - Jun's personal knowledge wiki</title>
    <meta name="keywords" content="Technology, MachineLearning, DataMining, Wiki" />
    <meta name="description" content="A wiki website" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <script type="text/javascript" async src="https://cdn.bootcss.com/mathjax-mhchem/3.3.2/mhchem.js">
    </script>
    <script>
        function changeImgurl(site_root_url) {
            var images = document.images;
            var site_root = site_root_url;
            for (i = 0, len = images.length; i < len; i++) {
                image = images[i];
                image_src = image.src;
                if (image_src.search("attach") >= 0) {
                    re_image_src = image_src.slice(image_src.search("attach"));
                    abs_image_src = (site_root.endsWith("\\")) ? site_root + re_image_src : site_root + "\\" +
                        re_image_src;
                    image.src = abs_image_src;
                }
            }
        }
        changeImgurl("/Wiki");
    </script>

</head>

<body>
    <div id="container">
        
<div id="header">
  <div id="post-nav"><a href="/Wiki/">Home</a>&nbsp;»&nbsp;<a href="/Wiki/#Basic_CS">Basic_CS</a>&nbsp;»&nbsp;Linux</div>
</div>
<div class="clearfix"></div>
<div id="title">Linux</div>
<div id="content">
  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#linux">Linux 技能</a><ul>
<li><a href="#ubuntu">Ubuntu</a><ul>
<li><a href="#_1">安装</a></li>
<li><a href="#root">root用户管理</a></li>
<li><a href="#_2">镜像加速</a></li>
<li><a href="#_3">网络</a></li>
</ul>
</li>
<li><a href="#centos">CentOS</a></li>
</ul>
</li>
<li><a href="#_4">查询是否安装</a></li>
<li><a href="#rpm">查询所有安装的rpm包</a></li>
<li><a href="#rpmcpio">将rpm包转换为cpio格式的命令</a></li>
<li><a href="#_5">是一个标准工具，他用于创建软件档案文件和从档案文件中提取文件</a></li>
<li><a href="#_6">建立挂载点</a></li>
<li><a href="#_7">挂载光盘</a></li>
<li><a href="#yum">进入yum源目录</a></li>
<li><a href="#yum_1">修改yum源文件后缀名，使其失效</a></li>
<li><a href="#_8">修改位置为光盘挂载位置</a></li>
<li><a href="#_9">查询所有可用软件包列表</a></li>
<li><a href="#_10">搜索服务器上所有和关键字相关的包</a></li>
<li><a href="#_11">列出所有可用的软件组列表</a></li>
<li><a href="#grouplist">安装指定软件组，组名可用由grouplist查询出来</a></li>
<li><a href="#_12">卸载指定软件组</a></li>
</ul>
</div>
<h1 id="linux">Linux 技能</h1>
<p>Linux工具快速教程<br />
https://linuxtools-rst.readthedocs.io/zh_CN/latest/index.html</p>
<table>
<thead>
<tr>
<th align="right">命令</th>
<th align="right">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">grep</td>
<td align="right">用于查找文件里符合条件的字符串</td>
</tr>
</tbody>
</table>
<h2 id="ubuntu">Ubuntu</h2>
<h3 id="_1">安装</h3>
<p>从科大镜像http://mirrors.ustc.edu.cn/ 下载 Ubuntu-16.04-x64</p>
<h3 id="root">root用户管理</h3>
<p>ubuntu系统 禁用了root用户，在安装过程中新建的用户并没有全部权限</p>
<div class="hlcode"><pre><span class="cp">#1.3.1 开启root账户 并以root账户登入</span>
<span class="n">sudo</span> <span class="n">passwd</span> <span class="n">root</span> 
<span class="cp">#输入root账户密码</span>
<span class="cp">#再次输入root账户密码确认</span>

<span class="cp">#添加运行以图形界面登入命令</span>
<span class="n">sudo</span> <span class="n">vim</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">lightdm</span><span class="o">/</span><span class="n">lightdm</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="mi">50</span><span class="o">-</span><span class="n">ubuntu</span><span class="p">.</span><span class="n">conf</span>
<span class="o">&gt;</span>
<span class="n">greeter</span><span class="o">-</span><span class="n">show</span><span class="o">-</span><span class="n">manual</span><span class="o">-</span><span class="n">login</span><span class="o">=</span><span class="nb">true</span>
</pre></div>


<h3 id="_2">镜像加速</h3>
<div class="hlcode"><pre><span class="n">echo</span> <span class="s">&quot;# 默认注释了源码镜像以提高 yes|apt update 速度，如有需要可自行取消注释</span>
<span class="n">deb</span> <span class="n">https</span><span class="o">:</span><span class="c1">//mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span>
<span class="cp"># deb-src https:</span><span class="c1">//mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse</span>
<span class="n">deb</span> <span class="n">https</span><span class="o">:</span><span class="c1">//mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span>
<span class="cp"># deb-src https:</span><span class="c1">//mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse</span>
<span class="n">deb</span> <span class="n">https</span><span class="o">:</span><span class="c1">//mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span>
<span class="cp"># deb-src https:</span><span class="c1">//mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse</span>
<span class="n">deb</span> <span class="n">https</span><span class="o">:</span><span class="c1">//mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span>
<span class="cp"># deb-src https:</span><span class="c1">//mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse</span>
<span class="cp"># 预发布软件源，不建议启用</span>
<span class="cp"># deb https:</span><span class="c1">//mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse</span>
<span class="cp"># deb-src https:</span><span class="c1">//mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse&quot;&gt; /etc/apt/sources.list</span>

<span class="n">yes</span><span class="o">|</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
</pre></div>


<h3 id="_3">网络</h3>
<div class="hlcode"><pre><span class="cp"># 1. 配置静态ip：</span>
<span class="n">sudo</span> <span class="n">vi</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">network</span><span class="o">/</span><span class="n">interfaces</span> 
<span class="o">&gt;</span>
<span class="k">auto</span> <span class="n">eth0</span>                  <span class="err">#设置自动启动</span><span class="n">eth0</span><span class="err">接口</span>
<span class="n">iface</span> <span class="n">eth0</span> <span class="n">inet</span> <span class="k">static</span>     <span class="err">#配置静态</span><span class="n">IP</span>
<span class="n">address</span> <span class="mf">172.28.44.120</span>      <span class="err">#</span><span class="n">IP</span><span class="err">地址</span>
<span class="n">netmask</span> <span class="mf">255.255.255.0</span><span class="err">：</span>      <span class="err">#子网掩码</span>
<span class="n">gateway</span> <span class="mf">172.28.44.254</span>        <span class="err">#默认网关</span>
<span class="cp">#2 修改DNS 配置nameserver</span>
<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">resolvconf</span><span class="o">/</span><span class="n">resolv</span><span class="p">.</span><span class="n">conf</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="n">base</span> 
<span class="o">&gt;</span>
<span class="n">nameserver</span> <span class="mf">172.25.9.10</span>
<span class="n">nameserver</span> <span class="mf">172.26.9.10</span>
<span class="cp"># 3 重启网络，使配置生效</span>
<span class="n">sudo</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="n">networking</span> <span class="n">restart</span>

<span class="n">dns</span><span class="o">-</span><span class="n">nameserver</span> <span class="mf">114.114.114.114</span> <span class="mf">8.8.8.8</span> <span class="mf">192.168.0.1</span> <span class="err">#定义</span><span class="n">DNS</span><span class="err">服务器的</span><span class="n">IP</span><span class="err">地址</span>
<span class="n">dns</span><span class="o">-</span><span class="n">search</span> <span class="n">www</span><span class="p">.</span><span class="n">ringkee</span><span class="p">.</span><span class="n">com</span> <span class="n">ringkee</span><span class="p">.</span><span class="n">com</span> <span class="err">#定义域名的搜索列表</span>

<span class="cp"># 1.2 修改host文件 </span>
<span class="n">sudo</span> <span class="n">vim</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">hosts</span>
<span class="o">&gt;</span> 
<span class="cp">#写入主机名称与ip 之间的关系</span>
<span class="mf">192.168.0.102</span>  <span class="n">master</span>
<span class="mf">192.168.0.179</span>  <span class="n">slaver_1</span>
<span class="mf">192.168.0.141</span>  <span class="n">slaver_2</span>
</pre></div>


<h2 id="centos">CentOS</h2>
<p>软件包管理<br />
软件包的分类<br />
源码包<br />
二进制包<br />
源码包的优点<br />
开源，如果有足够能力，可以修改源代码<br />
可以自由选择所需的功能<br />
软件是编译安装，所有更加适合自己的系统，更加稳定也效率更高<br />
卸载方便<br />
源码包的缺点<br />
安装麻烦，尤其是一些比较大的集合软件<br />
编译过程时间比较长，安装比二进制安装时间长<br />
因为是编译安装，一旦出错会很麻烦<br />
二进制包的优点<br />
包管理系统简单，只通过几个命令就可以实现包的安装，升级，查询和卸载<br />
安装速度比源码包要快<br />
二进制的缺点<br />
经过编译，不能看到源代码了<br />
功能选择不如源码包灵活<br />
依赖性<br />
rpm命令管理<br />
RPM包命名规则<br />
httpd-2.2.15-15.el6.centos.1.i686.rpm<br />
    - httpd     软件包名<br />
    - 2.2.15    软件版本<br />
    - 15        软件发布的次数<br />
    - el6.centos 适合的linux的平台<br />
    - i686      适合的硬件平台<br />
    - rpm       rpm包的扩展名<br />
RPM包的依赖性<br />
树形依赖：a -&gt; b -&gt; c<br />
环形依赖：a - &gt; b -&gt; c -&gt; a<br />
模块依赖：查询网站：www.rpmfind.net<br />
安装命令<br />
包全名与包名<br />
包全名：操作的包是没有按照的软件包时，使用包全名，而且要注意路径<br />
包名：操作已经安装的软件包时，使用包名是搜索/var/lib/rpm 中的数据库<br />
RPM安装<br />
rpm -ivh 包全名<br />
选项：<br />
    -i          安装<br />
    -v          显示详细信息<br />
    -h          显示进度<br />
    --nodeps    不检测依赖性<br />
升级和卸载<br />
RPM包升级<br />
rpm -Uvh 包全名<br />
选项：<br />
    -U  升级<br />
RPM包卸载<br />
rpm -e 包名<br />
选项：<br />
    -e          卸载<br />
    --nodeps    不检查依赖性<br />
RPM包查询<br />
查询是否安装<br />
rpm -q 包名</p>
<h1 id="_4">查询是否安装</h1>
<p>-q  查询</p>
<p>rpm -qa</p>
<h1 id="rpm">查询所有安装的rpm包</h1>
<p>查询软件包的详细信息<br />
rpm -qi 包名<br />
选项：<br />
    -i  查询软件信息<br />
    -p  查询未安装包信息<br />
查询包中文件安装位置<br />
rpm -ql 包名<br />
选项：<br />
    -l  列表<br />
    -p  查询未安装包信息<br />
RPM包默认安装位置<br />
地址  详细<br />
/etc/   配置文件安装目录<br />
/usr/bin/   可执行的命令安装目录<br />
/usr/lib/   程序所使用的函数库保存位置<br />
/usr/share/doc/ 基本的软件使用手册保存位置<br />
/usr/share/man/ 帮助文件保存位置<br />
查询系统文件属于哪个rpm包<br />
rpm -qf 系统文件名<br />
选项：<br />
    -f  查询系统文件属于哪个软件包<br />
查询软件包的依赖性<br />
rpm -qR 包名<br />
选项：<br />
    -R  查询软件包的依赖性<br />
    -p  查询未安装包的信息<br />
RPM包校验<br />
rpm -V 已安装的包名<br />
选项：<br />
    -V  校验指定RPM包的文件</p>
<p>验证内容中的8个信息的具体内容<br />
    s   文件大小是否改变<br />
    M   文件的类型或文件权限（rwx）是否被改变<br />
    5   文件MD5校验是否改变（可以看成文件内容是否被改变）<br />
    D   设备的主从代码是否改变<br />
    L   文件路径是否改变<br />
    U   文件的属主（所有者）是否改变<br />
    G   文件的属组是否改变<br />
    T   文件的修改实际是否改变</p>
<p>文件类型<br />
    c   配置文件<br />
    d   普通文件<br />
    g   “鬼”文件，就是该文件不应该被这个RPM所包含的<br />
    L   授权文件<br />
    r   描述文件<br />
RPM包中的文件提取<br />
rpm2cpio 包全名 | cpio -idv .文件绝对路径</p>
<p>rpm2cpio</p>
<h1 id="rpmcpio">将rpm包转换为cpio格式的命令</h1>
<p>cpio </p>
<h1 id="_5">是一个标准工具，他用于创建软件档案文件和从档案文件中提取文件</h1>
<p>cpio 选项 &lt; [文件|设备]<br />
选项：<br />
    -i  copy-in模式，还原<br />
    -d  还原时自动新建目录<br />
    -v  显示还原过程<br />
yum在线安装<br />
yum源文件<br />
vim /etc/yum.repos.d/CentOS-Base.repo </p>
<p>[base]      容器说明，一定要放在[]中<br />
name        容器说明，可以自己随便写<br />
mirrorlist  镜像站点，这个可以注释<br />
baseurl     yum源服务器的地址，可以自己更改自己喜欢的yum源<br />
enabled     此容器是否生效，1代表生效，0代表不生效<br />
gpgcheck    如果是1是指RPM数字保证书生效，如果是0则是不生效<br />
gpgkey      数字保证书的公钥文件保存位置，不用修改<br />
failovermethod=priority<br />
光盘搭建yum源<br />
1.挂载光盘<br />
mkdir /mnt/cdrom</p>
<h1 id="_6">建立挂载点</h1>
<p>mount /dev/cdrom /mnt/cdrom/</p>
<h1 id="_7">挂载光盘</h1>
<p>2.使网络yum源失效<br />
cd /etc/yum.repos.d/</p>
<h1 id="yum">进入yum源目录</h1>
<p>mv CentOS-Base.repo CentOS-Base.repo.bak</p>
<h1 id="yum_1">修改yum源文件后缀名，使其失效</h1>
<p>3.使光盘yum源生效<br />
vim CentOS-Media.repo</p>
<h1 id="_8">修改位置为光盘挂载位置</h1>
<p>yum命令<br />
常用yum命令<br />
查询<br />
yum list</p>
<h1 id="_9">查询所有可用软件包列表</h1>
<p>yum search 关键字</p>
<h1 id="_10">搜索服务器上所有和关键字相关的包</h1>
<p>安装<br />
yum -y install 包名<br />
选项：<br />
    install 安装<br />
    -y      自动回答yes</p>
<p>升级<br />
yum -y update 包名<br />
选项：<br />
    update  升级</p>
<p>卸载<br />
yum -y remove 包名<br />
选项：<br />
    remove  卸载<br />
yum软件组管理命令<br />
yum grouplist</p>
<h1 id="_11">列出所有可用的软件组列表</h1>
<p>yum grouplist 软件组名</p>
<h1 id="grouplist">安装指定软件组，组名可用由grouplist查询出来</h1>
<p>yum groupremove 软件组名</p>
<h1 id="_12">卸载指定软件组</h1>
<p>源码包安装<br />
源码包和RPM包的区别<br />
区别：<br />
安装之前的区别：概念上的区别<br />
安装之后的区别：安装位置的不同<br />
安装位置不同带来的影响<br />
RPM包安装的服务可以使用系统服务管理命令（service）来管理，例如RPM包安装的apache的启动方法</p>
<p>/etc/rc.d/init.d/httpd start<br />
service httpd start<br />
源码包安装位置<br />
安装在指定位置，一般是</p>
<p>/usr/local/软件名/<br />
源码包安装过程<br />
1.安装准备<br />
    安装gcc<br />
    下载源码包<br />
2.安装注意事项<br />
    源码包保存位置：/usr/local/src<br />
    软件安装位置：/usr/local<br />
    如何确定安装过程报错<br />
        安装过程停止<br />
        并出现error，warning或no提示<br />
3.源码包安装过程<br />
    下载源码包<br />
    解压下载好的源码包<br />
    进入解压目录<br />
    ./configure 软件配置与检查<br />
        定义需要功能的选项<br />
        检测系统环境是否符合安装需求<br />
        把定义好的功能选项和检测系统环境的信息都写入Makefile文件，用于后续编辑<br />
        --prefix=指定安装的位置<br />
4.make编译<br />
    make clean  清除编译好的文件<br />
    make install 编译安装</p>
<p>卸载：直接删除安装目录即可<br />
脚本安装<br />
网址： lnmp.org<br />
所谓的一键安装包，实际上还是安装的源码包与RPM包，知识把安装过程写成了脚本，便于初学者安装<br />
优点：<br />
    简单，快捷，方便<br />
缺点：<br />
    不能定义安装软件的版本<br />
    不能定义所需要的软件功能<br />
    源码包的优势丧失</p>
<p>关闭SElinux和防火墙<br />
vim /etc/selinux/config  把enforcing改为disabled</p>
</div>
<div id="re">
  如果你觉得这篇文章对你有帮助，不妨请我喝杯咖啡，鼓励我创造更多
</div>>

    </div>
    <div id="footer">
        <span>
            Copyright © 2019 zhang787jun.
            Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
        </span>
    </div>
    
</body>

</html>